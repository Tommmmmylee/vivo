<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0" />
		<title>vivo</title>
		<link rel="stylesheet" type="text/css" href="css/reset.css" />
		<link rel="stylesheet" type="text/css" href="css/animate.css" />
		<link rel="stylesheet" type="text/css" href="css/index.css" />
		<link rel="stylesheet" type="text/css" href="css/game.css" />
	</head>

	<body>
		<div id="container">
			<!--加载----------------->
			<div id="loading" class="pages">
				<img src="img/loading_0.png" alt="" />
				<img src="img/loading_1.png" alt="" id="loadingWord" />
			</div>

			<!--第一页:报幕----------------->
			<div id="page1" class="page pages" style="display: none;">
				<div id="wordTips">
					<p>公元9025年</p>
					<p>外星人为了争夺</p>
					<p>封印在vivo手机中的神秘能量</p>
					<p>发起宇宙战乱</p>
					<p>超人徐峥为了保卫神秘能量</p>
					<p>带着手机来到浩瀚宇宙中</p>
					<p>分身成为8个自己</p>
					<p>分别保卫8块手机碎片</p>
					<p>消失在太阳系的八大行星中</p>
					<p>据说找齐徐峥的8个分身</p>
					<p>就能启动神秘能量保护地球</p>
					<p>...</p>
				</div>
				<div class="planet-1"><img src="img/page1_0.png" alt="" /></div>
				<div class="planet-2"><img src="img/page1_1.png" alt="" /></div>
				<div class="planet-3"><img src="img/page1_2.png" alt="" /></div>
			</div>

			<!--第二页:超人飞出------------------>
			<div id="page2" class="page pages" style="display: none;">
				<div class="planet-1"><img src="img/page1_0.png" alt="" /></div>
				<div class="planet-2"><img src="img/page1_1.png" alt="" /></div>
				<div class="planet-3"><img src="img/page1_2.png" alt="" /></div>
				<div class="planet-4"><img src="img/page1_3.png"></div>
				<div id="superman1" class="superman">
					<img src="img/page1_5.png" />
					<!--<img src="img/page1_4.png"/>-->
				</div>
			</div>

			<!--第三页:vivo--------------->
			<div id="page3" class="page pages" style="display: none;">
				<!--<div class="planet-1"><img src="img/page1_0.png" alt="" /></div>-->
				<div class="planet-2"><img src="img/page1_1.png" alt="" /></div>
				<div class="planet-3"><img src="img/page1_2.png" alt="" /></div>
				<div class="planet-4"><img src="img/page1_3.png"></div>
				<div id="vivo">
					<img src="img/page1_6.png" />
				</div>
			</div>

			<!--第四页:vivo--------------->
			<div id="page4" class="page pages" style="display: none;">
				<div id="vivo2">
					<img src="img/page1_6.png" data-src="img/page1_6.png">
					<img src="img/page1_6_1.png" data-src="img/page1_6_1.png" class="chip">
					<img src="img/page1_6_2.png" data-src="img/page1_6_2.png" class="chip">
					<img src="img/page1_6_3.png" data-src="img/page1_6_3.png" class="chip">
					<img src="img/page1_6_4.png" data-src="img/page1_6_4.png" class="chip">
					<img src="img/page1_6_5.png" data-src="img/page1_6_5.png" class="chip">
					<img src="img/page1_6_6.png" data-src="img/page1_6_6.png" class="chip">
					<img src="img/page1_6_7.png" data-src="img/page1_6_7.png" class="chip">
					<img src="img/page1_6_8.png" data-src="img/page1_6_8.png" class="chip">
				</div>
			</div>

			<!--第五页:vivo--------------->
			<div id="page5" class="page pages" style="display: none;">
				<div class="chip1">
					<img src="img/chip_1.png" data-src="img/page1_6_1.png" class="chip">
				</div>
				<div class="chip2">
					<img src="img/chip_2.png" data-src="img/page1_6_2.png" class="chip">
				</div>
				<div class="chip3">
					<img src="img/chip_3.png" data-src="img/page1_6_3.png" class="chip">
				</div>
				<div class="chip4">
					<img src="img/chip_4.png" data-src="img/page1_6_4.png" class="chip">
				</div>
				<div class="chip5">
					<img src="img/chip_5.png" data-src="img/page1_6_5.png" class="chip">
				</div>
				<div class="chip6">
					<img src="img/chip_6.png" data-src="img/page1_6_6.png" class="chip">
				</div>
				<div class="chip7">
					<img src="img/chip_7.png" data-src="img/page1_6_7.png" class="chip">
				</div>
				<div class="chip8">
					<img src="img/chip_8.png" data-src="img/page1_6_8.png" class="chip">
				</div>
				<div class="star" id="star1">
					<img src="img/star_1.png">
				</div>
				<div class="star" id="star2">
					<img src="img/star_2.png">
				</div>
				<div class="star" id="star3">
					<img src="img/star_3.png">
				</div>
				<div class="star" id="star4">
					<img src="img/star_4.png">
				</div>
				<div class="star" id="star5">
					<img src="img/star_5.png">
				</div>
				<div class="star" id="star6">
					<img src="img/star_6.png">
				</div>
				<div class="star" id="star7">
					<img src="img/star_7.png">
				</div>
				<div class="star" id="star8">
					<img src="img/star_8.png">
				</div>
				<p id="txt">
					找齐徐峥,启动能量
				</p>
				<section id="downArrow" class="down-arrow"></section>
			</div>
			<!--游戏第一关-->
			<div id="game1" class="games" style="display: none;">
				<div class="part">第1关 金星</div>
				<div class="time">40:00</div>
				<div id="inner"></div>
				<div id="mask" style="display: none;">
					<div class="mask mask1" style="display: none;">
						<div class="jiang"></div>
						<!--<img src="img/page_explain_bg.png" alt="" />-->
						<div class="tu">
							<img src="img/chip_5.png" alt="" />
						</div>
						<p></p>
					</div>
					<div class="mask mask2" style="display: none;">
						<p>很遗憾</p>
						<p>你没有找齐徐峥的8个分身<br />看来他要一直囧在宇宙太阳系了</p>
						<input type="button" value="再来一次" id="againBtn" />
						<input type="button" value="游戏说明" id="instructionBtn" />
					</div>
				</div>
			</div>

		</div>
	</body>
	<script src="js/jquery-3.1.0.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/index.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		$("#downArrow")[0].onclick = function(){
			$('#page5').css('display','none');
			$('#game1').css('display','block');
			gameFn();
		}
		function gameFn() {
			//游戏倒计时
			gameOverTime();

			function gameOverTime() {
				var t = 20;
				var timer = setInterval(function() {
					if(t <= 0) {
						$("#mask").css('display', 'block');
						$('.mask2').css('display', 'block');
						clearInterval(timer);
					} else {
						$("#game1 .time").text(t.toFixed(2));
					}
					t -= 0.02;
				}, 20);
			}

			console.log($('#againBtn'));
			$('#againBtn')[0].onclick = function() {
				console.log('腻害');
				$("#mask").css('display', 'none');
				$('.mask2').css('display', 'none');
				num = 1;
				createImgFn();
				gameOverTime();
			}

			var num = 1;
			createImgFn();
			//创建图片
			function createImgFn() {

				$("#inner").html('');
				num++;
				//放房祖名图片的位置
				var randonNum = rnd(0, num * num);
				$("#inner").html('');
				for(var i = 0; i < num * num; i++) {
					var $img = $("<img/>");
					$img.attr("src", 'img/1.png');
					$("#inner").append($img);
					$img.css("width", 100 / num + '%');

					if(i == randonNum) {
						$img.attr("src", 'img/2.png');
						$img.css("backgroundColor", 'red');
						console.log($img);
						$img[0].onclick = function() {
							$("#mask").css({
								"display": "block"
							});
							$(".mask1").css({
								"display": "block"
							});

							texFn();
							maskFn();
							setTimeout(function() {
								guanFn();
								$("#mask").fadeOut(2000, function() {
									console.log("diaoong");

									$(".mask1").css({
										"display": "none"
									});
								});
							}, 2000)
							console.log('a');
							createImgFn();
						}
					}
				}
			}
			//-------------关卡----------
			var guanArr = ['金星', '木星', '水星', '火星', '土星', '地球', '天王星', '海王星'];

			function guanFn() {
				$("#game1 .part").html('第' + (num - 1) + '关 ' + guanArr[num - 1]);
			}

			//-------------关卡碎片----------
			var maskArr = ['img/chip_1.png', 'img/chip_2.png', 'img/chip_3.png', 'img/chip_4.png', 'img/chip_5.png', 'img/chip_6.png', 'img/chip_7.png', 'img/chip_8.png']

			function maskFn() {
				console.log(num);
				$(".jiang").html('你获得' + (num - 1) + '/8碎片');
				$('.tu img').attr('src', maskArr[num - 1]);
				console.log($('.tu img'));
			}
			//-------------关卡文字----------
			var txtArr = ['像初恋一样手感的<br/>双2.5d弧面玻璃', '帮助你放火防盗防女友<br/>的眼球识别加密系统',
				'帮你省下单反钱的<br/>1300万像素摄像头', '促进多巴胺分泌<br/>的Hi-Fi音质', '可以自动区分女汉子<br/>和萌妹子的美颜手机',
				'快得能让事件变慢的<br/>八核1.7GHz处理器', '轻松抓拍多动症患者的<br/>PADF快速相位对焦系统',
				'Duang Duang Duang 效果<br/>的Funntouch os系统'
			];

			function texFn() {
				$("#mask .mask1 p").html(txtArr[num - 2]);
			}

			function rnd(min, max) {
				return parseInt(Math.random() * (max - min) + min);
			}
		}
	</script>

</html>